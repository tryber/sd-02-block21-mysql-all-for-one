# Bem vindo ao reposit√≥rio do projeto All For One

Voc√™ j√° usa o GitHub diariamente para desenvolver os exerc√≠cios, certo? Agora, para desenvolver os projetos, voc√™ dever√° seguir as instru√ß√µes a seguir. Fique atento a cada passo e, se tiver qualquer d√∫vida, nos envie por Slack! #vqv üöÄ

Aqui voc√™ vai encontrar os detalhes de como estruturar o desenvolvimento do seu projeto a partir desse reposit√≥rio, utilizando uma branch espec√≠fica e um Pull Request para colocar seus c√≥digos.

---

### ANTES DE COME√áAR A DESENVOLVER:

1. Clone o reposit√≥rio
  * `git clone https://github.com/tryber/sd-02-block21-mysql-all-for-one`.
  * Entre na pasta do reposit√≥rio que voc√™ acabou de clonar:
    * `cd sd-02-block21-mysql-all-for-one`

2. Crie uma branch a partir da branch `master`
  * Verifique que voc√™ est√° na branch `master`
    * Exemplo: `git branch`
  * Se n√£o estiver, mude para a branch `master`
    * Exemplo: `git checkout master`
  * Agora, crie uma branch onde voc√™ vai guardar os `commits` do seu projeto
    * Voc√™ deve criar uma branch no seguinte formato: `nome-de-usuario-nome-do-projeto`
    * Exemplo: `git checkout -b jhonatan-de-souza-mysql-all-for-one`

3. Para cada exerc√≠cio voc√™ deve criar um novo arquivo sql seguindo a seguinte estrutura:
  * desafio1.sql, desafio2.sql...desafioN.sql

4. Adicione as mudan√ßas ao _stage_ do Git e fa√ßa um `commit`
  * Verifique que as mudan√ßas ainda n√£o est√£o no _stage_
    * Exemplo: `git status` (deve aparecer o arquivo que voc√™ alterou como desafio1.sql)
  * Adicione o novo arquivo ao _stage_ do Git
      * Exemplo:
        * `git add .` (adicionando solu√ß√£o para desafio 1)
        * `git status` (deve aparecer listado o arquivo _desafio1.sql_ em verde)
  * Fa√ßa o `commit` inicial
      * Exemplo:
        * `git commit -m 'iniciando o projeto MySQL All For One'` (fazendo o primeiro commit)
        * `git status` (deve aparecer uma mensagem tipo _nothing to commit_ )

6. Adicione a sua branch com o novo `commit` ao reposit√≥rio remoto
  * Usando o exemplo anterior: `git push -u origin seunome-mysql-all-for-one`

7. Crie um novo `Pull Request` _(PR)_
  * V√° at√© a p√°gina de _Pull Requests_ do [reposit√≥rio no GitHub](https://github.com/tryber/sd-02-block21-mysql-all-for-one/pulls)
  * Clique no bot√£o verde _"New pull request"_
  * Clique na caixa de sele√ß√£o _"Compare"_ e escolha a sua branch **com aten√ß√£o**
  * Clique no bot√£o verde _"Create pull request"_
  * Adicione uma descri√ß√£o para o _Pull Request_ e clique no bot√£o verde _"Create pull request"_
  * **N√£o se preocupe em preencher mais nada por enquanto!**
  * Volte at√© a [p√°gina de _Pull Requests_ do reposit√≥rio](https://github.com/tryber/sd-02-block21-mysql-all-for-one/pulls) e confira que o seu _Pull Request_ est√° criado

---

### DURANTE O DESENVOLVIMENTO

* ‚ö† **LEMBRE-SE DE CRIAR TODOS OS ARQUIVOS DENTRO DA PASTA COM O SEU NOME** ‚ö†

* Fa√ßa `commits` das altera√ß√µes que voc√™ fizer no c√≥digo regularmente

* Lembre-se de sempre ap√≥s um (ou alguns) `commits` atualizar o reposit√≥rio remoto

* Os comandos que voc√™ utilizar√° com mais frequ√™ncia s√£o:
  1. `git status` _(para verificar o que est√° em vermelho - fora do stage - e o que est√° em verde - no stage)_
  2. `git add` _(para adicionar arquivos ao stage do Git)_
  3. `git commit` _(para criar um commit com os arquivos que est√£o no stage do Git)_
  5. `git push -u nome-da-branch` _(para enviar o commit para o reposit√≥rio remoto na primeira vez que fizer o `push` de uma nova branch)_
  4. `git push` _(para enviar o commit para o reposit√≥rio remoto ap√≥s o passo anterior)_

---

# O que dever√° ser desenvolvido

Hoje voc√™ far√° um projeto com o codinome *All For One* em que praticar√° todos os conceitos de SQL j√° ensinados at√© aqui. Por√©m, voc√™ vai usar um banco de dados totalmente diferente, ent√£o d√™ tchau para o `sakila` e d√™ boas vindas ao `Northwind`, que ser√° usado neste projeto. As instru√ß√µes de como restaurar o banco podem ser lidas a seguir.

# Instru√ß√µes para restaurar o banco de dados `Northwind`

1. Fa√ßa o download do arquivo de backup [aqui](northwind.sql) clicando em "Raw", depois clicando com bot√£o direito e selecionando "Salvar como" para salvar o arquivo em seu computador.
2. Abra o arquivo com algum editor de texto, e selecione todo o conte√∫do do arquivo usando `CTRL-A`.
3. Abra o MySQL Workbench.
4. Abra uma nova janela de query e cole dentro dela todo o conte√∫do do arquivo `northwind.sql`.
5. Selecione todo o c√≥digo com o atalho `CTRL-A` e depois clique no icone de trov√£o para executar a query.

    ![Restaurando o banco Northwind](images/restore_northwind.png)
6. Aguarde alguns segundos (espere em torno de 30 segundos antes de tentar fazer algo).
7. Clique no bot√£o apontado na imagem a seguir para atualizar a listagem de banco de dados.

    ![Tabelas do banco Northwind](images/refresh_databases.png)
7. Verifique se o banco restaurado possui todas as seguintes tabelas:

    ![Tabelas do banco Northwind](images/northwind.png)
8. Clique com bot√£o direito em cada tabela e selecione "Select Rows" e certifique-se que todas as tabelas possuem registros. Caso tenha alguma faltando, fa√ßa o passo a seguir. Caso contr√°rio, pode ir para pr√≥xima se√ß√£o.
9. Caso existam tabelas faltando, drope o banco de dados, clicando com o bot√£o direito em cima do banco de dados northwind e selecionando "Drop Schema", e refa√ßa os passos novamente, dessa vez aguardando um tempo maior quando executar o script de restaura√ß√£o.

    ![Drop Schema](images/drop_database.png)

# Como desenvolver e entregar este projeto

Temos, a seguir, uma s√©rie de desafios com diferentes n√≠veis de complexidade que devem ser resolvidos cada um em seu arquivo pr√≥prio.

1. Leia a pergunta e crie um arquivo chamado `desafioX.sql`, em que X √© o n√∫mero do desafio.
2. O arquivo deve conter apenas o c√≥digo SQL do desafio resolvido. **N√£o se esque√ßa de incluir o ponto e v√≠rgula (";")** no final de suas queries e tamb√©m de **colocar o nome do banco_de_dados.tabela por completo**, como no exemplo a seguir.
```sql
SELECT * FROM northwind.orders;
```
4. Fa√ßa isso at√© finalizar todos os desafios e depois siga as instru√ß√µes de como entregar o projeto em **Instru√ß√µes para entregar seu projeto**.
---

## Desafios Iniciais

Monte queries para encontrar as seguintes informa√ß√µes:

1. Exiba apenas os nomes do produtos na tabela `products`.
2. Exiba todas as colunas da tabela `products`.
3. Escreva uma query que mostre a coluna que representa a primary key da tabela `products`.
4. Conte quantos registros existem em `product_name` de `products`.
5. Monte uma query que exiba os registros da tabela `products`  a partir do registro 4 at√© o 13, n√£o use `where` ou `order by`.
6. Mostre as colunas `product_name` e `ID` da tabela `products` de maneira que os resultados estejam em ordem alfab√©tica dos nomes.
7. Mostre os 5 primeiros registros da coluna `id` da tabela `products`, quando esta est√° em ordem decrescente.
8. Fa√ßa uma consulta que retorne tr√™s colunas. Na primeira coluna, exiba a soma de `5 + 6` (essa soma deve ser realizada pelo SQL). Na segunda coluna deve haver a palavra "de". E por fim, na terceira coluna, exiba a soma de `2 + 8` (essa soma deve ser realizada pelo SQL). A primeira coluna deve se chamar "A", a segunda coluna deve se chamar "Trybe" e a terceira coluna deve se chamar "eh". N√£o use colunas pre-existentes, apenas o que for criado na hora.

---

## Desafios sobre filtragem de dados

9. Mostre todos os valores de `notes` da tabela `purchase_orders` que n√£o s√£o nulos.
10. Mostre todos os dados da tabela `purchase_orders` em ordem decrescente ordenados por `created_by` onde `created_by` √© maior ou igual a 3.
11. Exiba os dados de `notes` da tabela `purchase_orders` e mostre apenas os dados de `notes` entre 30 a 39.
12. Mostre as datas (`submitted_date`) de `purchase_orders` onde `submitted_date` √© do dia 14 do m√™s de janeiro do ano 2006.
13. Mostre o `supplier_id` das `purchase_orders` onde o `supplier_id` seja 1 ou 3.
14. Mostre os `supplier_id` da `purchase_orders` onde o `supplier_id` sejam 1 a 3.
15. Mostre somente as horas da `submitted_date` de todos registros de `purchase_orders`.
16. Exiba a `submitted_date` das `purchase_orders` que est√£o entre 2006-01-26 00:00:00 a 2006-03-27 23:59:59.
17. Mostre os registros da coluna `supplier_id` das `purchase_orders` em que os `supplier_id` sejam tanto 1 ou 6.
18. Mostre os registros de purchase_orders que tem o `supplier_id` igual a 3 e `status_id` igual a 2.
19. Quantos pedidos foram feitos na tabela `orders` pelo `employee_id` igual a 6 ou 5, e que foram enviados atrav√©s do m√©todo `shipper_id` = 2 ?

---

## Desafios Manipula√ß√£o de tabelas

20. Adicione ao `order_details` uma linha com os seguintes dados: `order_id`: 69, `product_id`: 80, `quantity`: 15.0000, `unit_price`: 15.0000, `discount`: 0, `status_id`: 2, `date_allocated`: NULL, `purchase_order_id`: NULL e `inventory_id`: 129 (o Id deve ser incrementado automaticamente).
21. Adicione duas linhas ao `order_details` com os mesmos dados. Esses dados s√£o novamente `order_id`: 69, `product_id`: 80, `quantity`: 15.0000, `unit_price`: 15.0000, `discount`: 0, `status_id`: 2, `date_allocated`: NULL, `purchase_order_id`: NULL e `inventory_id`: 129 (o Id deve ser incrementado automaticamente).
22. Atualize os dados de `discount` do `order_details` para 15.
23. Atualize os dados de `discount` da tabela `order_details` para 30 cuja `unit_price` seja menor que 10.0000.
24. Atualize os dados de discount da tabela `order_details` para 45 cuja `unit_price` seja maior que 10.0000 e o id seja um n√∫mero entre 30 a 40.
25. Delete todos os dados em que a `unit_price` da tabela `order_details` seja menor que 10.0000.
26. Delete todos os dados em que a `unit_price` da tabela `order_details` seja maior que 10.0000.
27. Delete todos os dados da tabela `order_details`.

---

## Instru√ß√µes para entregar seu projeto:

### DEPOIS DE TERMINAR O DESENVOLVIMENTO

Para **"entregar"** seu projeto, siga os passos a seguir:

* V√° at√© a p√°gina **DO SEU** _Pull Request_, adicione a label de _"code-review"_ e marque seus colegas
  * No menu √† direita, clique no _link_ **"Labels"** e escolha a _label_ **code-review**
  * No menu √† direita, clique no _link_ **"Assignees"** e escolha **o seu usu√°rio**
  * No menu √† direita, clique no _link_ **"Reviewers"** e digite `students`, selecione o time `tryber/students-sd-02`

Se ainda houver alguma d√∫vida sobre como entregar seu projeto, [aqui tem um video explicativo](https://vimeo.com/362189205).
